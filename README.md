# Game-data-analysis-SQL
Анализ внутриигровых покупок в «Секреты Темнолесья». Исследование доли платящих игроков, стоимости покупок и популярности эпических предметов с учетом расы персонажа. SQL-запросы для расчета метрик и проверки аномалий. Рекомендации по оптимизации монетизации: акции, уникальный дизайн, кейсы.

Проект состоит из нескольких шагов:
1) Исследовательский анализ данных.
2) Решение разовых задач от коллег из маркетинговой команды игры «Секреты Тёмнолесья».
3) Выводы и аналитические комментарии

«Секреты Темнолесья» — это онлайн-игра, в которой каждый игрок следует по сюжету своего персонажа, выполняет задания и исследует огромный виртуальный мир.
В начале игры пользователь выбирает расу героя. От расы зависит отношение к пользователю торговцев и других игроков, а также неигровых персонажей — тех, которые не контролируются игроками. У каждой расы свои плюсы и минусы.

Задача аналитика

Продажа «райских лепестков» — это основная часть дохода команды разработки. Команда игры планирует привлекать платящих игроков и продвигать покупку эпических предметов с помощью рекламы. Поэтому аналитику предстоит решить несколько задач: 
1. выяснить, какая доля игроков покупает внутриигровую валюту «райские лепестки» за реальные деньги и есть ли зависимость доли платящих игроков от расы персонажа;
2. детально изучить, как происходит покупка эпических предметов внутри игры.


# Часть 1. Исследовательский анализ данных

## Задача 1. Исследование доли платящих игроков

Рассчитаем долю платящих игроков по всем данным и выгрузим несколько полей:

1) общее количество игроков, зарегистрированных в игре;
2) количество платящих игроков;
3) доля платящих игроков от общего количества пользователей, зарегистрированных в игре.

<img width="486" height="78" alt="image" src="https://github.com/user-attachments/assets/e8db296e-05b8-4909-bf40-27e853b39756" />

Изучим, зависит ли доля платящих игроков от выбранной расы персонажа. Выведем следующие значения для каждой расы персонажа:

1) раса персонажа; 
2) количество платящих игроков этой расы;  
3) общее количество зарегистрированных игроков этой расы;  
4) доля платящих игроков среди всех зарегистрированных игроков этой расы.

<img width="656" height="191" alt="image" src="https://github.com/user-attachments/assets/2929db6a-1235-4b46-8b64-edc6db026eec" />

## Задача 2. Исследование внутриигровых покупок

Необходимо изучить внутриигровую активность игроков по покупке эпических предметов за счёт игровой валюты «райские лепестки» 

Получим основные статистические показатели по полю покупки amount, включая:

1) общее количество покупок;
2) суммарную стоимость всех покупок;
3) минимальную и максимальную стоимость покупки;
4) среднее значение, медиану и стандартное отклонение стоимости покупки.

Сравним все покупки и покупки без нулевых значений:

<img width="1164" height="98" alt="image" src="https://github.com/user-attachments/assets/3f56fb9b-9e58-48c1-bb3f-846852b6f8e6" />

Проверим, встречаются ли покупки с нулевой стоимостью. Если да, находим их абсолютное количество и долю от общего числа покупок. 
Покупки с нулевой стоимостью не помогают зарабатывать внутриигровую валюту «райские лепестки», и их следует исключить при решении следующих задач.

<img width="383" height="73" alt="image" src="https://github.com/user-attachments/assets/1036b110-ca9f-4b44-9458-5d2d329a50f5" />

Изучим популярность эпических предметов. Для каждого предмета считаем:
1. Общее количество внутриигровых продаж в абсолютном и относительном значениях. Относительное значение должно быть долей продажи каждого предмета от всех продаж.
2. Долю игроков, которые хотя бы раз покупали этот предмет, от общего числа внутриигровых покупателей.

Результат сортируем по популярности эпического предмета среди игроков. При написании запроса была проведена фильтрация покупок с нулевой стоимостью.

<img width="1086" height="470" alt="image" src="https://github.com/user-attachments/assets/5e1c3bd2-ed41-4f72-8c16-eb607531e23a" />

# Часть 2. Решение ad hoc задач
## Задача: Зависимость активности игроков от расы персонажа

Необходимо изучить активность игроков при покупке эпических предметов в разрезе разных рас персонажей. 
Посчитаем показатели для каждой игровой расы:
1. общее количество зарегистрированных игроков;
2. количество игроков, которые совершают внутриигровые покупки, и их доля от общего количества зарегистрированных игроков;
3. доля платящих игроков среди игроков, которые совершили внутриигровые покупки;
4. среднее количество покупок на одного игрока, совершившего внутриигровые покупки;
5. средняя стоимость одной покупки на одного игрока, совершившего внутриигровые покупки;
6. средняя суммарная стоимость всех покупок на одного игрока, совершившего внутриигровые покупки.

<img width="1381" height="194" alt="image" src="https://github.com/user-attachments/assets/8db41f4a-fd70-414e-8f17-ed597db0f39e" />

# Часть 3. Выводы и аналитические комментарии

## 1. Результаты исследовательского анализа данных:
1.1. Какая доля платящих игроков характерна для всей игры и как раса персонажа влияет на изменение этого показателя?
Доля платящих игроков в игре составляет 17.69% (3929 из 22 214 зарегистрированных). Влияние расы персонажа на показатель минимально: у Demon — 19.37%, у Hobbit — 18.06%, у Human, Northman, Orc, Angel и Elf — от 17,60 до 17,07%, что указывает на то, что корреляция доли платящих игроков от выбранной расы персонажа хоть и незначительные, но всё же есть.

1.2. Сколько было совершено внутриигровых покупок и что можно сказать об их стоимости (минимум и максимум, есть ли различие между средним значением и медианой, какой разброс данных)?
Всего совершено 1 307 678 покупок на сумму 686 615 040 лепестков, с минимальной стоимостью 0 лепестков и максимальной — 486 615,1 лепестков. Среднее значение (525.69 лепестков) значительно превышает медиану (74.86 лепестков), указывая на то, что в основном игроки тратят валюту на эпические предметы стоимостью менее 75, а стандартное отклонение (2517.35 лепестков) подтверждает высокий разброс данных.

1.3. Есть ли аномальные покупки по стоимости? Если есть, то сколько их?
Аномальные покупки с нулевой стоимостью составляют 907 случаев (0.07% от общего числа), что является низкой долей и не оказывает значительного влияния на статистику стоимости, но может влиять на общее число покупающих игроков. Рекомендуется дополнительно проверить, как нулевые покупки сказываются на общей картине активности.

1.4. Есть ли среди эпических предметов популярные, которые покупают чаще всего?
Да, "Book of Legends" доминирует с 76.87% всех покупок (1 004 516 продаж) и привлекает 88.41% игроков-покупателей (12 194 уникальных), а "Bag of Holding" — 20.81% покупок (271 875) и 86.77% игроков (11 968 уникальных), что показывает высокий спрос на эти два предмета, в то время как остальные 143 предмета делят менее 3% продаж.

## 2. Результаты решения ad hoc задачи
Существует ли зависимость активности игроков по совершению внутриигровых покупок от расы персонажа?
Выбор расы незначительно влияет на покупку эпических предметов, что подтверждает сбалансированность игры, хотя доли покупателей равны (59.97%–62.89%). Среднее число покупок варьируется от 77.87 до 121.40, что отражает различия в активности игроков по расам, тогда как средняя стоимость (403.13–761.50 лепестков) и суммарные расходы (41 197.38–62 520.66 лепестков) также различаются, поддерживая гипотезу о примерно равном количестве покупок по расам с учетом активности.

## 3. Общие выводы и рекомендации
Монетизация игры демонстрирует стабильный уровень (17.69% платящих игроков) с минимальным влиянием расы, при этом спрос сосредоточен на двух эпических предметах ("Book of Legends" и "Bag of Holding"), тогда как остальные имеют низкую популярность. Маркетинговому отделу рекомендуется:
1.	Разработать уникальные дизайны и скидочные акции для неходовых предметов
2.	Внедрить кейсы за некоторую сумму для повышения интереса, где можно получить какой-нибудь из предметов, который не пользуется спросом
3.	Отслеживать нулевые транзакции для оптимизации промо-кампаний.

